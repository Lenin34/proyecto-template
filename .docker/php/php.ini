; ===========================================
; PHP Configuration for Production
; ===========================================

; Timezone
date.timezone = UTC

; Upload limits
post_max_size = 250M
upload_max_filesize = 250M

; ===========================================
; Session Configuration (Critical for HTTPS)
; ===========================================

; Use cookies only for session IDs (more secure)
session.use_only_cookies = 1

; Prevent session fixation attacks
session.use_strict_mode = 1

; Cookie security settings
; cookie_secure se maneja en Symfony framework.yaml con 'auto' para dev y 'true' para prod
session.cookie_httponly = 1
session.cookie_samesite = Lax

; Session lifetime (24 hours)
session.gc_maxlifetime = 86400
session.cookie_lifetime = 86400

; Session save path (Symfony lo sobrescribe, pero es bueno tener un default)
session.save_path = /var/www/html/var/sessions

; Garbage collection probability (1% chance on each request)
session.gc_probability = 1
session.gc_divisor = 100

; Session ID settings
session.sid_length = 48
session.sid_bits_per_character = 6

; ===========================================
; Security Settings
; ===========================================

; Expose PHP version (disable in production)
expose_php = Off

; Error reporting (Symfony maneja esto, pero como fallback)
display_errors = Off
log_errors = On
error_log = /var/www/html/var/log/php_errors.log
