<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Mi Credencial |
			{{ theme.name }}</title>
		<link rel="icon" type="image/png" href="{{ asset('images/logo.png') }}">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=PT+Sans+Caption:wght@400;700&display=swap" rel="stylesheet">

		<style>
			.body {
				background: {{theme.bg_gradient|raw}}
				;
				box-sizing: border-box;
				min-height: 100vh;
				width: 100%;
				margin: 0;
				padding: 0;
				display: block; /* Volver a block para evitar problemas de compresión flex */
			}
			.main-content {
				padding: 40px 15px;
				display: flex;
				flex-direction: column;
				align-items: center;
				width: 100%;
			}
			.cont-credential {
				width: 100%;
				max-width: 500px; /* Mantener forma de tarjeta incluso en desktop */
				margin: 0 auto !important;
				padding: 0 !important;
			}
			.fondo-card {
				background-color: {{theme.card_bg|raw}}
				;
				border-radius: 35px;
				box-shadow: 0 15px 45px rgba(0, 0, 0, 0.4);
				padding: 40px 25px;
				border: 1px solid{{theme.border_color|default('rgba(255,255,255,0.3)')}};
				width: 100%;
				{% if theme.glass_effect %}
					backdrop-filter: blur(15px);
					-webkit-backdrop-filter: blur(15px);
				{% endif %}
			}
			.subtitle-custom {
				font-family: "PT Sans Caption", sans-serif;
				font-weight: 700;
				font-size: clamp(1.8rem, 8vw, 2.8rem);
				color: {{theme.text_color}}
				!important;
				margin-bottom: 30px;
				text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
				text-align: center;
			}
			.info-text {
				font-size: 0.75rem;
				margin-bottom: 4px;
				font-weight: 800;
				color: #444;
				text-transform: uppercase;
				letter-spacing: 1.5px;
				text-align: center;
				width: 100%;
			}
			.info-span {
				background-color: #ffffff;
				border-left: 5px solid{{theme.accent_color}};
				padding: 12px;
				width: 100%;
				border-radius: 8px;
				box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
				margin-bottom: 20px;
				display: flex;
				align-items: center;
				justify-content: center;
			}
			.info-span p {
				word-break: break-word;
				font-size: 1rem;
				margin: 0;
				color: #222 !important;
				font-weight: 600;
				text-align: center;
			}
			.profile-photo {
				width: 160px;
				height: 160px;
				object-fit: cover;
				border-radius: 50%;
				border: 4px solid{{theme.accent_color}};
				box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
				margin-bottom: 25px;
			}
			.firma-digital {
				width: 140px;
				height: auto;
				margin-top: 20px;
				opacity: 0.8;
			}
			.iso-credential {
				width: 100%;
				max-width: 200px;
				height: auto;
				max-height: 120px;
				object-fit: contain;
				margin-bottom: 30px;
			}

			/* --- Tablets y Escritorio --- */
			@media(min-width: 768px) {
				.cont-credential {
					max-width: 480px;
				}
			}

			/* --- Móviles Pequeños --- */
			@media(max-width: 400px) {
				.fondo-card {
					padding: 30px 15px;
				}
				.profile-photo {
					width: 130px;
					height: 130px;
				}
				.subtitle-custom {
					font-size: 1.6rem;
				}
			}
		</style>
	</head>

	<body class="body">
		<div class="main-content">
			<h2 class="subtitle-custom text-center">MI CREDENCIAL</h2>

			<div class="cont-credential">
				<div class="fondo-card">
					<div
						class="row w-100 align-items-center flex-column flex-md-row">

						<!-- Logo Section -->
						<div class="info-movil d-flex flex-column align-items-center justify-content-center col-12 mb-4">
							<img src="{{ asset(theme.logo) }}" onerror="this.src='{{ asset(" images/logo.png") }}'" alt="Logo {{ theme.name }}" class="iso-credential">
						</div>

						<!-- Photo Section -->
						<div class="col-md-4 photo-movil d-flex flex-column align-items-center justify-content-center">
							{% if user.photo is not empty %}
								<img src="{{ asset('uploads/' ~ user.photo) }}" alt="Foto de perfil" class="profile-photo mb-3">
							{% else %}
								<img src="{{ asset('images/user.svg') }}" alt="Foto perfil default" class="profile-photo mb-3 p-4 bg-white">
							{% endif %}
						</div>

						<!-- Info Section -->
						<div class="col-md-4 info-movil d-flex flex-column align-items-center justify-content-center">

							<p class="info-text">NOMBRE</p>
							<div class="info-span p-2 rounded shadow-sm text-center w-100 mb-3">
								<p class="mb-0 text-dark fw-bold">{{ user.name ~ " " ~ user.lastName }}</p>
							</div>

							<p class="info-text">NÚMERO DE TELÉFONO</p>
							<div class="info-span p-2 rounded shadow-sm text-center w-100 mb-3">
								<p class="mb-0 text-dark">{{ user.phoneNumber }}</p>
							</div>

							<p class="info-text">CORREO ELECTRÓNICO</p>
							<div class="info-span p-2 rounded shadow-sm text-center w-100 mb-3">
								<p class="mb-0 text-dark">{{ user.email }}</p>
							</div>

							<p class="info-text">EMPRESA / DEPENDENCIA</p>
							<div class="info-span p-2 rounded shadow-sm text-center w-100 mb-3">
								<p class="mb-0 text-dark">{{ user.company ? user.company.name : 'NO REGISTRADO' }}</p>
							</div>

							<p class="info-text">NÚMERO DE AFILIACION</p>
							<div class="info-span p-2 rounded shadow-sm text-center w-100 mb-3">
								<p class="mb-0 text-dark">{{ user.employeeNumber }}</p>
							</div>
						</div>

						<!-- Signature Section -->
						<div class="col-md-4 photo-movil d-flex flex-column align-items-center justify-content-center">
							<p class="info-text mt-3">FIRMA DIGITAL</p>
							<img src="{{ asset('images/firma.png') }}" alt="Firma" class="firma-digital">
						</div>

					</div>
				</div>
			</div>
		</div>
	</body>
</html></div><!-- Scripts --><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script></body></html>
